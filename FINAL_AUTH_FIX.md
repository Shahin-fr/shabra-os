# ุฑุงูููุง ููุง ุญู ูุดฺฉู ุงุญุฑุงุฒ ููุช

## ๐ ูุดฺฉู ุดูุงุณุง ุดุฏู

ูุดฺฉู ุฏุฑ ูุณุฑ ุฏุชุงุจุณ ุจูุฏ. NextAuth ุงุฒ ุฏุชุงุจุณ ุฏุฑ ูุณุฑ `./dev.db` ุงุณุชูุงุฏู ูโฺฉุฑุฏ ุงูุง ุชูุธูุงุช ูุญุท ุจู ูุณุฑ `./prisma/dev.db` ุงุดุงุฑู ูโฺฉุฑุฏ.

## โ ุฑุงูโุญู ููุง

### 1. ูุณุฑ ุฏุชุงุจุณ ุฏุฑุณุช ุดูุงุณุง ุดุฏ
```
๐ Testing database URL: file:./dev.db
   โ Connected - Found 3 users
   ๐ค Users:
      - admin@shabra.com (Admin User) - ADMIN - Active: true
      - manager@shabra.com (Manager User) - MANAGER - Active: true
      - user@shabra.com (Regular User) - EMPLOYEE - Active: true
   ๐ Admin password test: SUCCESS
```

### 2. ูุงู .env ุจูโุฑูุฒุฑุณุงู ุดุฏ
```env
DATABASE_URL="file:./dev.db"
POSTGRES_URL="file:./dev.db"
```

### 3. ุณุฑูุฑ ุจุง ุชูุธูุงุช ุฏุฑุณุช ุงุฌุฑุง ุดุฏ

## ๐ ุญุงูุง ุจุงุฏ ฺฉุงุฑ ฺฉูุฏ

### ูุฑุญูู 1: ูพุงฺฉ ฺฉุฑุฏู Cache ูุฑูุฑฺฏุฑ
```
1. ุจุงุฒ ฺฉุฑุฏู Developer Tools (F12)
2. ฺฉูฺฉ ุฑุงุณุช ุฑู Refresh button
3. ุงูุชุฎุงุจ "Empty Cache and Hard Reload"
ุง
Ctrl + Shift + R
```

### ูุฑุญูู 2: ุชุณุช ุฏุฑ Incognito Mode
```
1. ุจุงุฒ ฺฉุฑุฏู Incognito/Private window
2. ุฑูุชู ุจู: http://localhost:3000/login
3. ูุฑูุฏ ุจุง:
   - Admin: admin@shabra.com / admin123
   - Manager: manager@shabra.com / manager123
   - User: user@shabra.com / user123
```

## ๐ง ุนุจโุงุจ

### ุงฺฏุฑ ูููุฒ ูุดฺฉู ุฏุงุฑุฏ:

#### 1. ุจุฑุฑุณ ูุณุฑ ุฏุชุงุจุณ
```bash
# ุจุฑุฑุณ ูุณุฑ ุฏุชุงุจุณ
node scripts/debug-auth-database.js
```

#### 2. ุจุฑุฑุณ ุชูุธูุงุช ูุญุท
```bash
# ุจุฑุฑุณ .env
type .env

# ุจุฑุฑุณ .env.local
type .env.local
```

#### 3. ุชุณุช ุงุญุฑุงุฒ ููุช
```bash
# ุชุณุช ุงุญุฑุงุฒ ููุช
node scripts/create-database.js
```

## ๐ ูุถุนุช ููุง

- โ **ุฏุชุงุจุณ**: SQLite ุฏุฑ `./dev.db` ููุฌูุฏ ุงุณุช
- โ **ฺฉุงุฑุจุฑุงู**: 3 ฺฉุงุฑุจุฑ ุฏุฑ ุฏุชุงุจุณ ููุฌูุฏ ูุณุชูุฏ
- โ **ุงุญุฑุงุฒ ููุช**: ุชูุธูุงุช NextAuth ุฏุฑุณุช ุงุณุช
- โ **ูุณุฑ ุฏุชุงุจุณ**: ุฏุฑ ูุงู .env ุฏุฑุณุช ุชูุธู ุดุฏู
- โ **ุณุฑูุฑ**: ุฏุฑ ุญุงู ุงุฌุฑุง ุฑู ูพูุฑุช 3000

## ๐ฏ ุขุฏุฑุณโูุง ููู

- **ุตูุญู ุงุตู**: http://localhost:3000
- **ูุฑูุฏ**: http://localhost:3000/login
- **API Auth**: http://localhost:3000/api/auth/[...nextauth]

## ๐ ุงุทูุงุนุงุช ูุฑูุฏ

| ููุด | ุงูู | ุฑูุฒ ุนุจูุฑ |
|-----|-------|----------|
| **ูุฏุฑ** | admin@shabra.com | admin123 |
| **ูุฏุฑ ูพุฑูฺู** | manager@shabra.com | manager123 |
| **ฺฉุงุฑุจุฑ ุนุงุฏ** | user@shabra.com | user123 |

## โ๏ธ ูฺฉุงุช ููู

1. **ูุณุฑ ุฏุชุงุจุณ**: `./dev.db` (ูู `./prisma/dev.db`)
2. **ูุงู .env**: ุจุงุฏ DATABASE_URL ุฏุฑุณุช ุชูุธู ุดุฏู ุจุงุดุฏ
3. **Cache ูุฑูุฑฺฏุฑ**: ููุดู ูพุงฺฉ ฺฉูุฏ
4. **Incognito Mode**: ุจุฑุง ุชุณุช ุงุณุชูุงุฏู ฺฉูุฏ

## ๐ ูุชุฌู

ุจุง ุงู ุชูุธูุงุชุ ูุดฺฉู ูุณุฑ ุฏุชุงุจุณ ุญู ุดุฏ ู ุจุงุฏ ุจุชูุงูุฏ ุจุฏูู ูุดฺฉู ูุงุฑุฏ ุณุณุชู ุดูุฏ.

### ุฏุณุชูุฑุงุช ููุฏ:
```bash
# ุจุฑุฑุณ ูุณุฑ ุฏุชุงุจุณ
node scripts/debug-auth-database.js

# ุชุณุช ุงุญุฑุงุฒ ููุช
node scripts/create-database.js

# ุงุฌุฑุง ุณุฑูุฑ
npm run dev
```

## ๐ ุฎูุงุตู ูุดฺฉูุงุช ุญู ุดุฏู

1. **ูุดฺฉู CSRF**: ุชูุธูุงุช cookies ุจูโุฑูุฒุฑุณุงู ุดุฏ
2. **ูุดฺฉู ูุณุฑ ุฏุชุงุจุณ**: ูุณุฑ ุฏุฑุณุช ุดูุงุณุง ู ุชูุธู ุดุฏ
3. **ูุดฺฉู ฺฉุงุฑุจุฑุงู**: 3 ฺฉุงุฑุจุฑ ุฏุฑ ุฏุชุงุจุณ ููุฌูุฏ ูุณุชูุฏ
4. **ูุดฺฉู ุงุญุฑุงุฒ ููุช**: NextAuth ุชูุธูุงุช ุฏุฑุณุช ุฏุงุฑุฏ

ุญุงูุง ููู ฺุฒ ุจุงุฏ ฺฉุงุฑ ฺฉูุฏ! ๐
